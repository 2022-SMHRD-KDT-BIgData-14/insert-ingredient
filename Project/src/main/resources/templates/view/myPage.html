<!DOCTYPE html>
<!-- 타임리프 스키마 삽입 : 태그, 속성들 사용 -->
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <meta content="IE=edge" http-equiv="X-UA-Compatible">
  <meta content="width=device-width,initial-scale=1" name="viewport">
  <meta content="description" name="description">
  <meta name="google" content="notranslate" />
  <meta content="Mashup templates have been developped by Orson.io team" name="author">

  <!-- Disable tap highlight on IE -->
  <meta name="msapplication-tap-highlight" content="no">

  <link href="./images/apple-icon-180x180.png" rel="apple-touch-icon">
  <link href="./images/favicon.ico" rel="icon">



  <title>Title page</title>

  <link href="../css/main.82cfd66e.css" rel="stylesheet">
  <link href="../js/main.js" rel="stylesheet">
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>

  <!-- Add your content of header -->
  <header class="">
    <div class="navbar navbar-default visible-xs">
      <button type="button" class="navbar-toggle collapsed">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a th:href="goMain.do" class="navbar-brand">Insert Ingredient</a>
    </div>

    <nav class="sidebar">
      <div class="navbar-collapse" id="navbar-collapse">
        <div class="site-header hidden-xs">
          <a class="site-brand site-brand-size" th:href="goMain.do" title="">
            <img class="img-responsive site-logo" alt="" src="../images/logo.png">
            <span>Insert Ingredient</span>
          </a>
        </div>
        <ul class="nav">
			<li><a th:href="goMain.do" title="">Home</a></li>
			<li><a th:href="goUpload.do" title="">Upload</a></li>
			<li><a th:href="goMypage.do" title="">MyPage</a></li>
        </ul>

        <nav class="nav-footer">
         <h5><a th:href="goLogout.do" title="">Logout</a></h5>
         <h5><a th:href="update.do" title="">Update</a></h5>
           <p>© Untitled | Website created with <a href="https://shrcampus.com/"
              title="Beautiful Free Images">shrcampus</a></p>
        </nav>
      </div>
    </nav>
  </header>

  <main class="" id="main-collapse">
    <div class="row">
      <div class="col-xs-12 section-container-spacer ">
        <h1>[[${session.member.user_id}]], MyPage</h1>
        <!-- 찜 -->
        <div class="col-xs-12 col-md-6 section-container-spacer ">

          <h2>찜한목록</h2>
          <div id="slideShow1">
            <!-- 찜한 음식 목록 리스트로 가져오기 -->
            <ul class="slides1" th:each="list:${list}">
              <li><img style="width: 300px;" th:src="${list.food_img}" alt="음식 사진 자리임"></li>
              <!-- <li><img id="wishIMG" alt="food_img자리임" th:src="${list.food_img}"></li> -->
              <!-- <li><img style="width: 300px;" src="../images/like01.jpg" alt=""></li>
              <li><img style="width: 300px;" src="../images/img-010.jpg" alt=""></li>
              <li><img style="width: 300px;" src="../images/like01.jpg" alt=""></li>
              <li><img style="width: 300px;" src="../images/img-010.jpg" alt=""></li> -->
            </ul>
            <p class="controller1">

              <!-- &lang: 왼쪽 방향 화살표
              &rang: 오른쪽 방향 화살표 -->
              <span class="prev1">&lang;</span>
              <span class="next1">&rang;</span>
            </p>
          </div>

          <div class="col-xs-12 col-md-6 section-container-spacer">
          <h2>최근 목록</h2>
          <div id="slideShow2">
            <ul class="slides2">
              <li><img style="width: 300px;" src="../images/img-010.jpg" alt=""></li>
              <li><img style="width: 300px;"src="../images/img-010.jpg" alt=""></li>
              <li><img style="width: 300px;"src="../images/img-010.jpg" alt=""></li>
              <li><img style="width: 300px;"src="../images/img-010.jpg" alt=""></li>
              <li><img style="width: 300px;"src="../images/img-010.jpg" alt=""></li>
              <li><img style="width: 300px;"src="../images/img-010.jpg" alt=""></li>
            </ul>
            <p class="controller2">
<!-- 
              &lang: 왼쪽 방향 화살표
              &rang: 오른쪽 방향 화살표 -->
              <span class="prev2">&lang;</span>
              <span class="next2">&rang;</span>
            </p>
          </div>
          </div>
        </div>

      </div>
    </div>

  </main>

  <!-- <script type="text/javascript" th:inline="javascript">
		// 페이지 로드될 떄, show_wishlist 함수 실행
		$(document).ready(show_wishlist);
		
		// 찜 리스트 출력하는 함수
		function show_wishlist(){
			$.ajax({
				url:'showWishAjax.do',
				type : 'get',
				dataType : 'json',
				success : makeList,
				error : function(e){ alert('error') }
			})
			
		}
		// 찜 - 성공했을 때, 실행할 함수 makeList
		function makeList(list){
			// 테이블 공간 초기화
			$('#slideShow1').html('');
			
			// 배열로 넣기
			for(let i = 0; i<list.length; i++){
				console.log("리스트 " + i + "번째임" + list[i])
				$('#slideShow1').append(
					`
					<ul class="slides1">
						<li><img style="width: 300px;" th:src="${list[i].food_img}"></li>
						<li>"${list[i].food_name}"</li>
					</ul>
					`
				)
			}
		}
  </script> -->

  <script>
    document.addEventListener("DOMContentLoaded", function (event) {
      navbarToggleSidebar();
      navActivePage();
    });
  </script>
  <script>
    const slides = document.querySelector('.slides1'); //전체 슬라이드 컨테이너
    const slideImg = document.querySelectorAll('.slides1 li'); //모든 슬라이드들
    let currentIdx = 0; //현재 슬라이드 index
    const slideCount = slideImg.length; // 슬라이드 개수
    const prev = document.querySelector('.prev1'); //이전 버튼
    const next = document.querySelector('.next1'); //다음 버튼
    const slideWidth = 500; //한개의 슬라이드 넓이
    const slideMargin = 50; //슬라이드간의 margin 값

    //전체 슬라이드 컨테이너 넓이 설정
    slides.style.width = (slideWidth + slideMargin) * slideCount + 'px';

    function moveSlide(num) {
      slides.style.left = -num * 400 + 'px';
      currentIdx = num;
    }

    prev.addEventListener('click', function () {
      /*첫 번째 슬라이드로 표시 됐을때는 
      이전 버튼 눌러도 아무런 반응 없게 하기 위해 
      currentIdx !==0일때만 moveSlide 함수 불러옴 */

      if (currentIdx !== 0) moveSlide(currentIdx - 1);
    });

    next.addEventListener('click', function () {
      /* 마지막 슬라이드로 표시 됐을때는 
      다음 버튼 눌러도 아무런 반응 없게 하기 위해
      currentIdx !==slideCount - 1 일때만 
      moveSlide 함수 불러옴 */
      if (currentIdx !== slideCount - 1) {
        moveSlide(currentIdx + 1);
      }
    });

  </script>
  <script>
    const slidesa = document.querySelector('.slides2'); //전체 슬라이드 컨테이너
    const slideImga = document.querySelectorAll('.slides2 li'); //모든 슬라이드들
    let currentIdxa = 0; //현재 슬라이드 index
    const slideCounta = slideImga.length; // 슬라이드 개수
    const preva = document.querySelector('.prev2'); //이전 버튼
    const nexta = document.querySelector('.next2'); //다음 버튼
    const slideWidtha = 500; //한개의 슬라이드 넓이
    const slideMargina = 50; //슬라이드간의 margin 값

    //전체 슬라이드 컨테이너 넓이 설정
    slidesa.style.width = (slideWidtha + slideMargina) * slideCounta + 'px';

    function moveSlidea(num) {
      slidesa.style.left = -num * 400 + 'px';
      currentIdxa = num;
    }

    preva.addEventListener('click', function () {
      /*첫 번째 슬라이드로 표시 됐을때는 
      이전 버튼 눌러도 아무런 반응 없게 하기 위해 
      currentIdx !==0일때만 moveSlide 함수 불러옴 */

      if (currentIdxa !== 0) moveSlidea(currentIdxa - 1);
    });

    nexta.addEventListener('click', function () {
      /* 마지막 슬라이드로 표시 됐을때는 
      다음 버튼 눌러도 아무런 반응 없게 하기 위해
      currentIdx !==slideCount - 1 일때만 
      moveSlide 함수 불러옴 */
      if (currentIdxa !== slideCounta - 1) {
        moveSlidea(currentIdxa + 1);
      }
    });

  </script>

  <!-- Google Analytics: change UA-XXXXX-X to be your site's ID 

<script>
  (function (i, s, o, g, r, a, m) {
    i['GoogleAnalyticsObject'] = r; i[r] = i[r] || function () {
      (i[r].q = i[r].q || []).push(arguments)
    }, i[r].l = 1 * new Date(); a = s.createElement(o),
      m = s.getElementsByTagName(o)[0]; a.async = 1; a.src = g; m.parentNode.insertBefore(a, m)
  })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
  ga('create', 'UA-XXXXX-X', 'auto');
  ga('send', 'pageview');
</script>

-->
  <script type="text/javascript" src="../js/main.85741bff.js"></script>
  <script src="JS/slideShow.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
  <script src="jquery.bxslider/jquery.bxslider.js"></script>
</body>

</html>